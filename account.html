<!DOCTYPE html>
<html>

<head>
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7098145720803384"
    crossorigin="anonymous"></script>
  <link rel="stylesheet"
    href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
  <link rel="stylesheet" href="/css/style.css">
  <link rel="icon" href="/favicon.ico">
  <title>My Account | nate-games</title>
</head>

<body>
  <div class="header">
    <a href="/">
      <button class="menu-item root">
        <strong><img src="/favicon.ico"> nate-games</strong>
      </button>
    </a>
    <nav class="menu">
      <a href="/account">
        <button class="menu-item">
          <i class="fa-solid fa-user"></i> Account
        </button>
      </a>
      <div class="dropdown">
        <button class="menu-item dropbtn">
          <i class="fa-solid fa-dragon"></i>Categories
        </button>
        <div class="dropdown-content">
          <a href="/0/g/?tags=clicker">Clicker |
            <i class="fa-solid fa-arrow-pointer"></i> <i class="fa-solid fa-hand-pointer"></i></a>
          <a href="/0/g/?tags=shooting">Shooting |
            <i class="fa-solid fa-gun"></i></a>
          <a href="/0/g/?tags=point-and-click">Point & Click | <i class="fa-solid fa-computer-mouse"></i></a>
          <a href="/0/g/?tags=action">Action | <i class="fa-solid fa-burst"></i></a>
          <a href="/0/g/?tags=kids">Kids | <i class="fa-solid fa-child-reaching"></i></a>
          <span style="
                  border-top: 2px solid #222;
                  border-bottom: 2px solid #222;
                  border-radius: 0;
                "><b>Game engines</b></span>
          <a href="/0/g/?tags=html5">HTML5 |
            <img src="/img/svg/html5.svg" style="vertical-align: middle; height: 14px" /></a>
          <a href="/0/g/?tags=unity">Unity |
            <img src="/img/svg/unity.svg" style="vertical-align: middle; height: 14px" /></a>
          <a href="/0/g/?tags=flash">Flash |
            <img src="/img/svg/adobe-flash.svg" style="vertical-align: middle; height: 14px" /></a>
          <a href="/0/g/?tags=scratch">Scratch |
            <img src="/img/svg/scratch.svg" style="vertical-align: middle; height: 14px" /></a>
        </div>
      </div>
      <a href="/games">
        <button class="menu-item">
          <i class="fa-solid fa-gamepad"></i> Games
        </button>
      </a>
      <a href="/projects">
        <button class="menu-item">
          <i class="fa-solid fa-paper-plane"></i> Projects
        </button>
      </a>
      <a href="https://docs.nate-games.xyz/">
        <button class="menu-item">
          <i class="fa-solid fa-book"></i> Docs
        </button>
      </a>
      <div class="dropdown">
        <button class="menu-item dropbtn">
          <i class="fa-solid fa-caret-down"></i> More
        </button>
        <div class="dropdown-content" style="right: 0; min-width: 180px">
          <a href="https://discord.gg/9mJcqwZ2a5" target="_blank">Join the Discord | üí¨</a>
          <a href="/contact" target="_blank">Contact | üìù</a>
          <a href="https://github.com/nate-games/nate-games.xyz" target="_blank">GitHub |
            <i class="fa-brands fa-github"></i></a>
          <a href="/sponsor" target="_blank">Sponsor |
            <i class="fa-regular fa-heart" style="color: #eb4034;"></i></a>
        </div>
      </div>
    </nav>
  </div>

  <div class="card-container">
    <div class="cards light center">
      <img src="/img/logo2.gif" style="height: 100px; border-radius: 100%;" draggable="false">
      <p><b>Welcome back! </b>You gain a
        50xp ‚ú® every 10 seconds you
        play! <br><i>(There are 150xp every level)</i>
      </p>
      <button id="revealLevel" class="cards-button">Reveal my level</button>
      <button class="cards-button" id="export">Export as
        Save</button>
      <button class="cards-button" id="import" onclick="openFileInput()">Import as
        Save</button>
      <input type="file" id="file-input" style="display: none;" accept=".save">

      <span id="levelContent" style="display: none;">
        <p>
          <b>Your Level:</b> <span id="level">1</span>
          <br>
          <b>Your XP:</b> <span id="xp">0</span>
        </p>
        <div id="progress-container">
          <div id="progress-bar"></div>
        </div>
      </span>
    </div>
  </div>
  <script src="/js/level_up.js"></script>
  <script>
    document.getElementById("revealLevel").addEventListener("click", function () {
      var level = document.querySelector("#levelContent");
      if (level.style.display === "none" || level.style.display === "") {
        level.style.display = "block";
      } else {
        level.style.display = "none";
      }
    });


    function openFileInput() {
      const fileInput = document.getElementById("file-input");

      fileInput.addEventListener("change", function () {
        const file = fileInput.files[0];
        const reader = new FileReader();

        reader.addEventListener("load", function () {
          console.log(atob(reader.result));
          alert("Importing is not available yet. We'll let you know when its ready.")
        });

        reader.readAsText(file);
      });

      fileInput.click();
    }

  </script>
  <script>

    var string = btoa(`lvl: "${localStorage.getItem("level")}", xp: "${localStorage.getItem("xp")}"`)
    var string2 = btoa(`var savedData = { 
      data: "${string}" 
    }`)

    document.getElementById("export").onclick = function () {
      downloadFile(`data:text/plain,${string2}`, 'levels.save');
    }

    function downloadFile(url, fileName) {
      fetch(url)
        .then(res => res.blob())
        .then(res => {
          const aElement = document.createElement("a")
          aElement.setAttribute('download', fileName);
          const href = URL.createObjectURL(res);
          aElement.href = href;
          aElement.setAttribute('target', '_blank');
          aElement.click();
          URL.revokeObjectURL(href);
        });
    };
  </script>
</body>

</html>